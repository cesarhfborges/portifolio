<header
  class="w-full"
  [style.min-height.px]="80"
  [style.z-index]="99999999999999"
  [ngClass]="{
    'fixed top-0 left-0 right-0 z-50': isScrolled || isMenuOpen,
    'relative z-40': !isScrolled && !isMenuOpen
  }"
>
  <nav
    class="mx-auto lg:max-w-[70rem] xl:max-w-[76rem] 2xl:max-w-[86rem] transition-all duration-300 ease-in-out"
    [ngClass]="{
      'bg-gray-900/80 backdrop-blur-sm': isScrolled || isMenuOpen,
      'px-6': isScrolled || isMenuOpen,
      'px-0': !isScrolled && !isMenuOpen
    }"
  >
    <div class="flex flex-nowrap items-center justify-between py-5">

      <div class="flex items-center">
        <a routerLink="/" class="text-[#0065CF] text-3xl font-bold flex items-center">
          <img
            ngSrc="assets/icons/android-chrome-192x192.png"
            class="mr-3"
            alt="App logo"
            [priority]="true"
            [height]="32"
            [width]="32"
          />
          <span class="contents md:hidden xl:contents">CÃ©sar Borges</span>
        </a>
      </div>

      <div class="flex items-center">

        <ul
          class="hidden md:flex flex-row space-x-1"
        >
          <li *ngFor="let item of navItems">
            <a href="{{item.path}}" class="block px-4 py-2 no-underline outline-none hover:no-underline">
              <div class="text-sm text-white transition-colors duration-300 hover:text-pink-600">
                {{ (item.label | translate) | uppercase }}
              </div>
            </a>
          </li>

          <li class="relative">
            <a
              href="javascript:void(0)"
              id="dropdownToggle"
              class="flex px-4 py-2 no-underline outline-none transition-colors duration-300 hover:text-pink-600 hover:no-underline"
              [class.text-pink-600]="isDropdownOpen"
              (click)="toggleDropdown()"
            >
              {{ ('app.menu.language' | translate) | uppercase }}
              <fa-icon [icon]="faGlobe" size="1x" [style.padding-left.px]="8"></fa-icon>
            </a>

            <div
              id="dropdownMenu"
              class="absolute right-0 mt-2 w-48 rounded-md shadow-lg dark:bg-gray-800 ring-1 ring-gray-900/5 ring-opacity-5 z-50"
              [class.hidden]="!isDropdownOpen"
            >
              <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="dropdownToggle">
                <a
                  *ngFor="let lang of _translationService.langs"
                  href="javascript:void(0)"
                  class="flex gap-2 content-center px-4 py-2 text-sm text-light-700 dark:hover:bg-gray-700"
                  role="menuitem"
                  (click)="setLang(lang.value)"
                >
                  <img [ngSrc]="lang.icon" [alt]="lang.label" [height]="20" [width]="20">
                  {{ lang.label }}
                </a>
              </div>
            </div>
          </li>
        </ul>

        <button
          type="button"
          class="text-white md:hidden p-2 rounded-lg hover:text-pink-600 focus:outline-none"
          (click)="toggleMenu()"
          [ngClass]="{
             'mr-3': isMenuOpen,
          }"
        >
          <fa-icon [icon]="isMenuOpen ? faTimes : faBars" size="2x"></fa-icon>
        </button>
      </div>
    </div>
  </nav>
</header>
<div
  [style.min-height.px]="80"
  [ngClass]="{
    'hidden': !isScrolled && !isMenuOpen
  }"
></div>

<div
  class="
    fixed top-[80px] left-0 w-full h-full bg-gray-900/95 flex flex-col items-center pt-8 z-40
    transition-transform duration-300 ease-in-out md:hidden
  "
  [class.-translate-x-full]="!isMenuOpen"
  [class.translate-x-0]="isMenuOpen"
>
  <ul class="flex flex-col items-center space-y-4">

    <li *ngFor="let item of navItems">
      <a
        href="{{item.path}}"
        class="block px-4 py-2 text-xl no-underline outline-none hover:no-underline"
        (click)="toggleMenu()"
      >
        <div class="text-white transition-colors duration-300 hover:text-pink-600">
          {{ (item.label | translate) | uppercase }}
        </div>
      </a>
    </li>

    <li class="relative">
      <a
        href="javascript:void(0)"
        id="dropdownToggleMobile"
        class="flex px-4 py-2 text-xl no-underline outline-none transition-colors duration-300 hover:text-pink-600 hover:no-underline"
        [class.text-pink-600]="isDropdownOpen"
        (click)="toggleDropdown()"
      >
        {{ ('app.menu.language' | translate) | uppercase }}
        <fa-icon [icon]="faGlobe" size="1x" [style.padding-left.px]="8"></fa-icon>
      </a>

      <div
        class="absolute mt-2 w-48 rounded-md shadow-lg dark:bg-gray-800 ring-1 ring-gray-900/5 ring-opacity-5 z-50 left-1/2 transform -translate-x-1/2"
        [class.hidden]="!isDropdownOpen"
      >
        <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="dropdownToggleMobile">
          <a
            *ngFor="let lang of _translationService.langs"
            href="javascript:void(0)"
            class="flex gap-2 content-center px-4 py-2 text-sm text-light-700 dark:hover:bg-gray-700"
            role="menuitem"
            (click)="setLang(lang.value)"
          >
            <img [ngSrc]="lang.icon" [alt]="lang.label" [height]="20" [width]="20">
            {{ lang.label }}
          </a>
        </div>
      </div>
    </li>
  </ul>
</div>
